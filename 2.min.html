<table id=t><script>a=[];(onkeyup=function(){b=[];h="";for(i=9;i--;)for(h+="<tr>",j=9;j--;){k=9*i+j;a[k]=a[k]||0;d=0;for(z in e=[1,8,9,10])d+=a[k+e[z]]+a[k-e[z]];b[k]=+(3==d||a[k]&&2==d);h+="<td onclick=innerHTML='□■'[a[k="+k+"]=1-a[k]]\x3e"+"□■"[b[k]||0]}for(i in a)a[i]=b[i];t.innerHTML=h})()</script>